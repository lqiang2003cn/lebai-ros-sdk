<launch>
    <arg name="3d_sensor" default="gemini2_only_camera"/>
    <arg name="device_num" default="2"/>

    <arg name="camera1_usb_port" default="4-1-2"/>
    <arg name="camera1_serial_number" default="AY3N430008K"/>
    <arg name="camera2_usb_port" default="8-2-2"/>
    <arg name="camera2_serial_number" default="AY3N430001D"/>


    <include file="$(find lebai_lm3_moveit_config)/launch/$(arg 3d_sensor).launch">
        <arg name="camera_name" value="ob_camera_01"/>
        <arg name="usb_port" value="$(arg camera1_usb_port)"/>
        <arg name="serial_number" value="$(arg camera1_serial_number)"/>
        <arg name="device_num" value="$(arg device_num)"/>
    </include>

    <include file="$(find lebai_lm3_moveit_config)/launch/$(arg 3d_sensor).launch">
        <arg name="camera_name" value="ob_camera_02"/>
        <arg name="usb_port" value="$(arg camera2_usb_port)"/>
        <arg name="serial_number" value="$(arg camera2_serial_number)"/>
        <arg name="device_num" value="$(arg device_num)"/>
    </include>

    <arg name="markerId" default="100"/>
    <arg name="markerSize" default="0.05"/>
    <arg name="corner_refinement" default="LINES"/>

    <node pkg="aruco_ros" type="single" name="cam01_aruco_single">
        <remap from="/camera_info" to="/ob_camera_01/color/camera_info"/>
        <remap from="/image" to="/ob_camera_01/color/image_raw"/>
        <param name="reference_frame" value="ob_camera_01_color_optical_frame"/>
        <param name="camera_frame" value="ob_camera_01_color_optical_frame"/>
        <param name="marker_frame" value="cam01_aruco_marker_frame"/>
        <param name="image_is_rectified" value="True"/>
        <param name="marker_size" value="$(arg markerSize)"/>
        <param name="marker_id" value="$(arg markerId)"/>
        <param name="corner_refinement" value="$(arg corner_refinement)"/>
    </node>

    <node pkg="aruco_ros" type="single" name="cam02_aruco_single">
        <remap from="/camera_info" to="/ob_camera_02/color/camera_info"/>
        <remap from="/image" to="/ob_camera_02/color/image_raw"/>
        <param name="reference_frame" value="ob_camera_02_color_optical_frame"/>
        <param name="camera_frame" value="ob_camera_02_color_optical_frame"/>
        <param name="marker_frame" value="cam02_aruco_marker_frame"/>
        <param name="image_is_rectified" value="True"/>
        <param name="marker_size" value="$(arg markerSize)"/>
        <param name="marker_id" value="$(arg markerId)"/>
        <param name="corner_refinement" value="$(arg corner_refinement)"/>
    </node>

    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find lebai_tutorials)/scripts/rviz_config.rviz"/>
</launch>
